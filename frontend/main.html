<!DOCTYPE html>
<html style="background-color: #0d1117">
  <head>
    <link href="./styles/main.css" rel="stylesheet" type="text/css">
    <link href="./styles/navbar.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div id="AppNavbarSystem">
        <span class="LogoText">SoundCloud</span>
      <div class="Locator">
        <div class="Path">
          <span>soundcloud.com</span>
          <l>/</l>
          <input>
        </div>
          <div class="Back button" onclick="ipcRenderer.send('webview:back')">
          <svg
            height="17px"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 20 20"
            width="17px"
          >
            <g
              fill="#9b9fa7"
              stroke="none"
              transform="translate(0,20) scale(0.1,-0.1)"
            >
              <path
                d="M51 156 l-21 -22 25 -24 c23 -21 30 -20 26 3 -1 5 18 7 41 5 40 -3
                    43 -5 43 -33 l0 -30 -78 -5 c-98 -6 -105 -24 -11 -28 59 -2 75 1 97 18 16 13
                    27 31 27 45 0 32 -44 65 -87 65 -19 0 -32 4 -28 9 12 21 -14 19 -34 -3z"
              />
            </g>
          </svg>
        </div>
          <div class="Forward button" onclick="ipcRenderer.send('webview:forward')">
          <svg
            height="17px"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 20 20"
            width="17px"
          >
            <g
              fill="#9b9fa7"
              stroke="none"
              transform="translate(0,20) scale(0.1,-0.1)"
            >
              <path
                d="M119 174 c-1 -5 -1 -12 0 -16 0 -5 -14 -8 -33 -8 -42 0 -86 -33 -86
                    -65 0 -14 11 -32 27 -45 22 -17 38 -20 97 -18 94 4 87 22 -11 28 l-78 5 0 30
                    c0 28 3 30 43 33 27 2 42 -1 38 -7 -13 -21 12 -19 33 3 l21 22 -25 24 c-14 13
                    -26 19 -26 14z"
              />
            </g>
          </svg>
        </div>
          <div class="Reload button" onclick="ipcRenderer.send('webview:reload')">
          <svg
            height="17px"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 20 20"
            width="17px"
          >
            <g
              fill="#9b9fa7"
              stroke="none"
              transform="translate(0,20) scale(0.1,-0.1)"
            >
              <path
                d="M85 170 c-3 -5 2 -10 12 -10 60 0 86 -75 37 -107 -24 -15 -29 -15
                    -53 -2 -14 8 -27 24 -29 34 -7 36 -22 41 -22 8 0 -36 38 -73 75 -73 12 0 34 9
                    49 21 20 16 26 29 26 59 0 30 -6 43 -26 59 -29 22 -59 27 -69 11z"
              />
              <path
                d="M33 153 c-18 -7 -16 -23 2 -23 8 0 15 -4 15 -10 0 -5 5 -10 11 -10
                    13 0 8 43 -6 46 -5 1 -16 0 -22 -3z"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="ButtonsSelector">
        <i
                onclick="ipcRenderer.send('window:close')"
          style="background: #ff3737"
        ></i>
        <i
                onclick="ipcRenderer.send('window:minimize')"
          style="background: #ffe819"
        ></i>
        <i
                onclick="ipcRenderer.send('window:maximize')"
          style="background: lime"
        ></i>
          <div class="AuthButton" onclick="openAuthModal()" title="Authentication">
              <svg fill="#9b9fa7" height="17" viewBox="0 0 24 24" width="17">
                  <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1M12 7C13.4 7 14.8 8.6 14.8 10V11.5C14.8 12.6 14.4 13.5 13.5 13.5H10.5C9.6 13.5 9.2 12.6 9.2 11.5V10C9.2 8.6 10.6 7 12 7M12 8.2C11.2 8.2 10.4 8.7 10.4 10V11.3H13.6V10C13.6 8.7 12.8 8.2 12 8.2Z"/>
              </svg>
          </div>
      </div>
    </div>

    <!-- Authentication Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2>üéµ SoundCloud Authentication</h2>
                <span class="auth-close" onclick="closeAuthModal()">&times;</span>
            </div>

            <!-- Manual Token Tab -->
            <div class="auth-tab-content active" id="tokenTab">
                <div class="auth-section">
                    <h3>üîë Enter Your Authentication Token</h3>
                    <p>Follow the guide below to extract your SoundCloud authentication token:</p>
                    <input class="auth-input" id="tokenInput" placeholder="Paste your oauth_token here..."
                           type="password">
                    <button class="auth-button primary" onclick="saveToken()">Save Token</button>
                </div>

                <div class="auth-guide">
                    <h4>üìã How to get your SoundCloud token:</h4>
                    <div class="guide-steps">
                        <div class="guide-step">
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Open SoundCloud in your browser</strong>
                                <p>Go to <code>soundcloud.com</code> and make sure you're logged in</p>
                            </div>
                        </div>

                        <div class="guide-step">
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Open Developer Tools</strong>
                                <p>Press <kbd>F12</kbd> or <kbd>Ctrl+Shift+I</kbd> (Windows/Linux) or
                                    <kbd>Cmd+Option+I</kbd> (Mac)</p>
                            </div>
                        </div>

                        <div class="guide-step">
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Go to Application/Storage tab</strong>
                                <p>Click on "Application" tab (Chrome/Edge) or "Storage" tab (Firefox)</p>
                            </div>
                        </div>

                        <div class="guide-step">
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>Find Cookies</strong>
                                <p>Expand "Cookies" ‚Üí "https://soundcloud.com"</p>
                            </div>
                        </div>

                        <div class="guide-step">
                            <span class="step-number">5</span>
                            <div class="step-content">
                                <strong>Copy oauth_token</strong>
                                <p>Find cookie named <code>oauth_token</code> and copy its <strong>Value</strong></p>
                            </div>
                        </div>

                        <div class="guide-step">
                            <span class="step-number">6</span>
                            <div class="step-content">
                                <strong>Paste and Save</strong>
                                <p>Paste the token value above and click "Save Token"</p>
                            </div>
                        </div>
                    </div>

                    <div class="guide-note">
                        <strong>‚ö†Ô∏è Important:</strong> Your token is like a password - keep it secure and don't share it
                        with others!
                    </div>
                </div>
            </div>

            <div class="auth-status" id="authStatus"></div>
        </div>
    </div>

    <webview
      allowpopups
      preload="./preloads/webview.js"
      webpreferences="nativeWindowOpen=true"
    ></webview>

    <script src="./scripts/auth.js"></script>
  </body>
</html>
