# üéµ SoundCloud Desktop Proxy

–ü—Ä–æ–∫—Å–∏-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è SoundCloud Desktop. –ü–æ–º–æ–≥–∞–µ—Ç –æ–±–æ–π—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, DPI –∏ –ø—Ä–æ—á—É—é –¥—É—à–Ω–∏–Ω—É, –∫–æ—Ç–æ—Ä—É—é —É—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã.

## üö® –ß–µ –ø–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º (–ê–∫—Ç—É–∞–ª–æ—á–∫–∞)

–°–∏—Ç—É–∞—Ü–∏—è –º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ —Ä–∞—Å–∫–ª–∞–¥ —Å–µ–π—á–∞—Å —Ç–∞–∫–æ–π:

1.  **Cloudflare Workers:**
    *   üè† **–î–æ–º–∞—à–Ω–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–†–µ–∑–∏–¥–µ–Ω—Ç—ã):** –í –±–∞–Ω–µ –ø–æ—á—Ç–∏ —É –≤—Å–µ—Ö. –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –±–ª–æ—á–∞—Ç –¥–æ—Å—Ç—É–ø –∫ ASN cloudflare.
    *   üè¢ **–•–æ—Å—Ç–∏–Ω–≥–∏/VPS:** –í –†–æ—Å—Å–∏–∏ **–æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç**. –ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –º–µ–Ω—å—à–µ, –∫–∞–Ω–∞–ª—ã —á–∏—â–µ.
2.  **Deno Deploy:**
    *   –•–æ—Å—Ç–∏—Ç—Å—è –Ω–∞ AWS. –£ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–æ–º–∞—à–Ω–∏—Ö) —ç—Ç–æ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è **high-risk**.
    *   **–°–∏–º–ø—Ç–æ–º:** –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –µ—Å—Ç—å, –Ω–æ —á–µ—Ä–µ–∑ **19 –ö–ë** –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—É–ø–æ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è. –¢—Ä–µ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –≥—Ä—É–∑–∏—Ç—å—Å—è –∏ —É–º–∏—Ä–∞–µ—Ç. –Æ–∑–∞–±–µ–ª—å–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–≤–µ–∑–µ—Ç —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (—Å–ø–æ–π–ª–µ—Ä: —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ –ø–æ–≤–µ–∑–µ—Ç).

### üí° –†–µ—à–µ–Ω–∏–µ: "–ú–æ—Å—Ç" —á–µ—Ä–µ–∑ RU-VPS
–°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, —á—Ç–æ–±—ã –Ω–µ –≥–∞–¥–∞—Ç—å "–∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –Ω–µ—Ç":
`SoundCloud Desktop` ‚Üí `–¢–≤–æ–π VPS –≤ –†–§ (Node.js)` ‚Üí `Cloudflare Workers` ‚Üí `SoundCloud`

–¢–≤–æ–π VPS –≤ –†–§ –≤—ã—Å—Ç—É–ø–∞–µ—Ç "–ø—Ä–æ–∫–ª–∞–¥–∫–æ–π". –û–Ω –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Å—Ç—É—á–∏—Ç—Å—è –≤ Cloudflare (—Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —Ö–æ—Å—Ç–∏–Ω–≥, –∞ –Ω–µ –¥–æ–º–∞—à–Ω–∏–π –∏–Ω–µ—Ç), –∞ Cloudflare —É–∂–µ —Ç—è–Ω–µ—Ç –∏–Ω—Ñ—É —Å –°–∞—É–Ω–¥–∫–ª–∞—É–¥–∞.

---

## üõ† –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 1. ü•á –¶–∞—Ä—Å–∫–∏–π –º–µ—Ç–æ–¥ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
**–°–≤—è–∑–∫–∞: Node.js (RU VPS) + Cloudflare**

–°–∞–º—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç. –û–±—Ö–æ–¥–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ–º–∞—à–Ω–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ DPI.

#### –®–∞–≥ 1: Cloudflare Worker
1. –ò–¥–µ—à—å –≤ –ø–∞–Ω–µ–ª—å Cloudflare, —Å–æ–∑–¥–∞–µ—à—å –Ω–æ–≤–æ–≥–æ –í–æ—Ä–∫–µ—Ä–∞.
2. –ö–æ–ø–∏–ø–∞—Å—Ç–∏—à—å —Ç—É–¥–∞ –∫–æ–¥ –∏–∑ `cloudflare-proxy.js`.
3. –î–µ–ø–ª–æ–∏—à—å, –∫–æ–ø–∏—Ä—É–µ—à—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω (—Ç–∏–ø–∞ `my-proxy.workers.dev`).

#### –®–∞–≥ 2: –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Bridge)
1. –ë–µ—Ä–µ—à—å –ª—é–±–æ–π **–¥–µ—à–µ–≤—ã–π VPS –≤ –†–§** (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –≤ –º—Å–∫ –≤ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞—Ö (–∞ –Ω–µ –≤ –≥–∞—Ä–∞–∂–µ/–ø–æ–¥–≤–∞–ª–µ), –≤ –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö –≤—ã—à–µ —à–∞–Ω—Å –ø–æ–ø–∞—Å—Ç—å –Ω–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ —Å–µ—Ç–∏ —Å dpi).
2. –°—Ç–∞–≤–∏—à—å –ù–æ–¥—É (18+):
   ```bash
   curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
   sudo apt-get install -y nodejs
   ```
3. –ó–∞–∫–∏–¥—ã–≤–∞–µ—à—å —Ñ–∞–π–ª `node-intermediate-proxy.js` –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
4. –ó–∞–ø—É—Å–∫–∞–µ—à—å (–ª—É—á—à–µ —á–µ—Ä–µ–∑ PM2, —á—Ç–æ–±—ã –Ω–µ –ø–∞–¥–∞–ª–æ):
   ```bash
   # –°—Ç–∞–≤–∏–º PM2
   npm install -g pm2

   # –ó–∞–ø—É—Å–∫–∞–µ–º. –í PROXY_URL –≤—Å—Ç–∞–≤–ª—è–µ—à—å –∞–¥—Ä–µ—Å —Å–≤–æ–µ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞ –∏–∑ –®–∞–≥–∞ 1
   PROXY_URL="https://tvoj-worker.workers.dev" PORT=3000 pm2 start node-intermediate-proxy.js --name sc-proxy
   
   # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
   pm2 save && pm2 startup
   ```
   *–ú–æ–∂–µ—à—å —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ `PROXY_URL` –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

#### –®–∞–≥ 3: –ö–æ–Ω—Ñ–∏–≥ SoundCloud Desktop
–í –∫–æ–Ω—Ñ–∏–≥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`config.json`) –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ—à—å IP —Å–≤–æ–µ–≥–æ VPS:
```json
{
  "proxy": [
    "http://IP-–¢–í–û–ï–ì–û-VPS:3000"
  ]
}
```

### 2. üè† Self-hosted (–ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞—Ä—É–±–µ–∂–Ω—ã–π VPS)
–ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å VPS **–ù–ï** –≤ –†–æ—Å—Å–∏–∏ (–ï–≤—Ä–æ–ø–∞, –°–®–ê), –º–æ–∂–Ω–æ –Ω–µ –ø–∞—Ä–∏—Ç—å –º–æ–∑–≥ —Å Cloudflare.

1. –ö–∏–¥–∞–µ—à—å `node-proxy.js` –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
2. –ó–∞–ø—É—Å–∫–∞–µ—à—å: `PORT=8080 node node-proxy.js`
3. –í –∫–æ–Ω—Ñ–∏–≥–µ —É–∫–∞–∑—ã–≤–∞–µ—à—å –∞–¥—Ä–µ—Å —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
4. –í—Å—ë. –¢—ã —Å–∞–º —Å–µ–±–µ —Ö–æ–∑—è–∏–Ω.

### 3. üíÄ Deno Deploy (–ù–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫)
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É–¥–∞—á—É —Å AWS-–¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ –∏–ª–∏ —É —Ç–µ–±—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä "–Ω–µ –∫–∞–∫ —É –≤—Å–µ—Ö".
*–ö–æ–¥ –ª–µ–∂–∏—Ç –≤ `deno-proxy.js`.*
> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** Deno –∂–µ—Å—Ç–∫–æ –∫—ç—à–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —é–∑–∞–π –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä `{date}` –≤ URL, –∏–Ω–∞—á–µ –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ—Ç–≤–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–∫–∏.

---

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–¢–µ—Ö–Ω–∏—á–∫–∞)

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –ø–∞–ª–∏–ª, –∫—É–¥–∞ –º—ã –ª–µ–∑–µ–º, –∏ –Ω–µ —Ä–µ–∑–∞–ª –∑–∞–≥–æ–ª–æ–≤–∫–∏:

1. **Base64:** URL, –∫—É–¥–∞ –Ω–∞–º –Ω–∞–¥–æ –ø–æ–ø–∞—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, API –°–∞—É–Ω–¥–∫–ª–∞—É–¥–∞), –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ Base64 –∏ –∫–ª–∞–¥–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Target`.
2. **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞:** –î–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ç–≤–æ–π VPS/Worker.
3. **–°—Ç—Ä–∏–º–∏–Ω–≥:** `node-intermediate-proxy.js` —É–º–µ–µ—Ç —Å—Ç—Ä–∏–º–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –û–Ω –Ω–µ –∂–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞, –∞ –æ—Ç–¥–∞–µ—Ç —á–∞–Ω–∫–∏ —Å—Ä–∞–∑—É, –∫–∞–∫ –ø–æ–ª—É—á–∏–ª. –ú—É–∑—ã–∫–∞ –∏–≥—Ä–∞–µ—Ç –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫.

### –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ URL (–¥–ª—è Deno/Caches)
–ï—Å–ª–∏ —é–∑–∞–µ—à—å Deno –∏–ª–∏ –¥—Ä—É–≥—É—é —Å—Ä–µ–¥—É —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∫—ç—à–µ–º, –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∫–ª–∏–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ —é–∑–∞—Ç—å:
- `{date}` ‚Äî –ø–æ–¥—Å—Ç–∞–≤–∏—Ç —Ç–µ–∫—É—â–∏–π timestamp (—á—Ç–æ–±—ã —Å–±–∏—Ç—å –∫—ç—à).
- `{target}` ‚Äî –ø–æ–¥—Å—Ç–∞–≤–∏—Ç Base64 —Ü–µ–ª–µ–≤–æ–≥–æ URL.

–ü—Ä–∏–º–µ—Ä –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–∞:
`"https://my-deno-app.deno.dev/{date}/{target}"`

---

## ‚ö°Ô∏è –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

**–ù–∏—á–µ–≥–æ –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è, –æ—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**
*   –¢–≤–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∑–∞–¥—É—à–∏–ª –¥–æ—Å—Ç—É–ø –∫ VPS –∏–ª–∏ –í–æ—Ä–∫–µ—Ä—É.
*   –ï—Å–ª–∏ —é–∑–∞–µ—à—å Deno ‚Äî –ø—Ä–∏–≤–µ—Ç, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ 19 –ö–ë. –ú–µ–Ω—è–π –º–µ—Ç–æ–¥.

**–ú—É–∑—ã–∫–∞ –∑–∞–∏–∫–∞–µ—Ç—Å—è / –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è**
*   –ü—Ä–æ–≤–µ—Ä—å –∫–∞–Ω–∞–ª –Ω–∞ VPS.
*   –ï—Å–ª–∏ —é–∑–∞–µ—à—å Deno –Ω–∞–ø—Ä—è–º—É—é ‚Äî —Å–º. –ø—É–Ω–∫—Ç –≤—ã—à–µ –ø—Ä–æ 19 –ö–ë.

**–û—à–∏–±–∫–∞ 429 (Too Many Requests)**
*   Cloudflare —Ä—É–≥–∞–µ—Ç—Å—è. –°–¥–µ–ª–∞–π 2-3 —Ä–∞–∑–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–∞ –∏ –ø—Ä–æ–ø–∏—à–∏ –∏—Ö —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ `node-intermediate-proxy.js`. –°–∫—Ä–∏–ø—Ç —Å–∞–º –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –∂–∏–≤–æ–π, –µ—Å–ª–∏ –æ–¥–∏–Ω –æ—Ç–≤–∞–ª–∏—Ç—Å—è.
